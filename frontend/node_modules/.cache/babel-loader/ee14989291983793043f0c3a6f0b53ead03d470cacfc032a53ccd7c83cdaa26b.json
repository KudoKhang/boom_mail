{"ast":null,"code":"import _objectSpread from\"/Users/NghiaKhang/Coding/Projects/boom_mail/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';import{API_URL}from'../config/constants';import{localCache}from'./localStorage';var axiosInstance=axios.create({baseURL:API_URL,headers:{Accept:'application/json'}});var addAuthToken=function addAuthToken(config){var url=config.url,headers=config.headers;var authToken;if(/admin\\/*/.test(url)){authToken=localCache.getAdminToken();}else{authToken=localCache.getUserToken();}if(authToken){headers.Authorization=\"\".concat(authToken);}return _objectSpread(_objectSpread({},config),{},{headers:headers});};var handleError=function handleError(error){return Promise.reject(error);};axiosInstance.interceptors.request.use(addAuthToken,handleError);export default axiosInstance;","map":{"version":3,"names":["axios","API_URL","localCache","axiosInstance","create","baseURL","headers","Accept","addAuthToken","config","url","authToken","test","getAdminToken","getUserToken","Authorization","handleError","error","Promise","reject","interceptors","request","use"],"sources":["/Users/NghiaKhang/Coding/Projects/boom_mail/src/utils/axiosInstance.js"],"sourcesContent":["import axios from 'axios';\nimport { API_URL } from '../config/constants';\nimport { localCache } from './localStorage';\n\nconst axiosInstance = axios.create({\n  baseURL: API_URL,\n  headers: {\n    Accept: 'application/json',\n  },\n});\n\nconst addAuthToken = (config) => {\n  const { url, headers } = config;\n  let authToken;\n\n  if (/admin\\/*/.test(url)) {\n    authToken = localCache.getAdminToken();\n  } else {\n    authToken = localCache.getUserToken();\n  }\n\n  if (authToken) {\n    headers.Authorization = `${authToken}`;\n  }\n\n  return { ...config, headers };\n};\n\nconst handleError = (error) => {\n  return Promise.reject(error);\n};\n\naxiosInstance.interceptors.request.use(addAuthToken, handleError);\n\nexport default axiosInstance;\n"],"mappings":"gIAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,qBAAqB,CAC7C,OAASC,UAAU,KAAQ,gBAAgB,CAE3C,GAAMC,cAAa,CAAGH,KAAK,CAACI,MAAM,CAAC,CACjCC,OAAO,CAAEJ,OAAO,CAChBK,OAAO,CAAE,CACPC,MAAM,CAAE,kBACV,CACF,CAAC,CAAC,CAEF,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,MAAM,CAAK,CAC/B,GAAQC,IAAG,CAAcD,MAAM,CAAvBC,GAAG,CAAEJ,OAAO,CAAKG,MAAM,CAAlBH,OAAO,CACpB,GAAIK,UAAS,CAEb,GAAI,UAAU,CAACC,IAAI,CAACF,GAAG,CAAC,CAAE,CACxBC,SAAS,CAAGT,UAAU,CAACW,aAAa,EAAE,CACxC,CAAC,IAAM,CACLF,SAAS,CAAGT,UAAU,CAACY,YAAY,EAAE,CACvC,CAEA,GAAIH,SAAS,CAAE,CACbL,OAAO,CAACS,aAAa,WAAMJ,SAAS,CAAE,CACxC,CAEA,sCAAYF,MAAM,MAAEH,OAAO,CAAPA,OAAO,GAC7B,CAAC,CAED,GAAMU,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAK,CAAK,CAC7B,MAAOC,QAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CAAC,CAEDd,aAAa,CAACiB,YAAY,CAACC,OAAO,CAACC,GAAG,CAACd,YAAY,CAAEQ,WAAW,CAAC,CAEjE,cAAeb,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}