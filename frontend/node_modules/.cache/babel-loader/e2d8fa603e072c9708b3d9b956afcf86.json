{"ast":null,"code":"import _regeneratorRuntime from \"/Users/NghiaKhang/Coding/Projects/boom_mail/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/NghiaKhang/Coding/Projects/boom_mail/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/Users/NghiaKhang/Coding/Projects/boom_mail/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/NghiaKhang/Coding/Projects/boom_mail/src/pages/Payment/index.jsx\";\nimport React from 'react';\nimport Container from '@mui/material/Container';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\n// import { useNavigate } from 'react-router-dom';\nimport { useFormData } from '../../hooks/useFormData';\n// import { toExternalPayment } from '../../api';\n\nvar TARGET_URL = 'https://perfectmoney.com/api/step1.asp';\nvar PAYMENT_OPTIONS = {\n  PAYEE_ACCOUNT: 'U14526665',\n  PAYMENT_NAME: 'boomcheck.io',\n  PAYMENT_ID: 'BOOMCHECK',\n  PAYMENT_UNITS: 'USD',\n  STATUS_URL: 'https://boomcheck.io/handlers/paymentHandler.php?for=k',\n  PAYMENT_URL: 'https://boomcheck.io/handlers/paymentHandler.php?for=k',\n  PAYMENT_URL_METHOD: 'POST',\n  NOPAYMENT_URL: 'http://0.0.0.0:8000/payment',\n  NOPAYMENT_URL_METHOD: 'GET',\n  SUGGESTED_MEMO: '',\n  BAGGAGE_FIELDS: ''\n};\nexport default function Payment() {\n  var _useFormData = useFormData(),\n    formData = _useFormData.formData,\n    onInputChange = _useFormData.onInputChange;\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var params, urlParams, fullUrl, form;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              params = _objectSpread({}, PAYMENT_OPTIONS, formData);\n              urlParams = new URLSearchParams(Object.entries(params));\n              fullUrl = \"\".concat(TARGET_URL, \"?\").concat(urlParams.toString()); // const res = await toExternalPayment(fullUrl);\n              // window.location.replace(fullUrl);\n              window.location = TARGET_URL;\n              form = React.createElement('form', {\n                action: TARGET_URL,\n                method: 'POST',\n                body: params\n              });\n              form.submit();\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return React.createElement(Container, {\n    maxWidth: \"xs\",\n    sx: {\n      mt: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Box, {\n    component: \"form\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"input-amount\",\n    name: \"PAYMENT_AMOUNT\",\n    type: \"number\",\n    label: \"S\\u1ED1 ti\\u1EC1n c\\u1EA7n n\\u1EA1p\",\n    required: true,\n    fullWidth: true,\n    onChange: onInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }))), React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    sx: {\n      my: 3\n    },\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Th\\u1EF1c hi\\u1EC7n\"))))));\n}","map":{"version":3,"names":["React","Container","Grid","Box","TextField","Button","useFormData","TARGET_URL","PAYMENT_OPTIONS","PAYEE_ACCOUNT","PAYMENT_NAME","PAYMENT_ID","PAYMENT_UNITS","STATUS_URL","PAYMENT_URL","PAYMENT_URL_METHOD","NOPAYMENT_URL","NOPAYMENT_URL_METHOD","SUGGESTED_MEMO","BAGGAGE_FIELDS","Payment","formData","onInputChange","handleSubmit","e","preventDefault","params","urlParams","URLSearchParams","Object","entries","fullUrl","toString","window","location","form","createElement","action","method","body","submit","mt","display","flexDirection","alignItems","my"],"sources":["/Users/NghiaKhang/Coding/Projects/boom_mail/src/pages/Payment/index.jsx"],"sourcesContent":["import React from 'react';\nimport Container from '@mui/material/Container';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\n// import { useNavigate } from 'react-router-dom';\nimport { useFormData } from '../../hooks/useFormData';\n// import { toExternalPayment } from '../../api';\n\nconst TARGET_URL = 'https://perfectmoney.com/api/step1.asp';\nconst PAYMENT_OPTIONS = {\n  PAYEE_ACCOUNT: 'U14526665',\n  PAYMENT_NAME: 'boomcheck.io',\n  PAYMENT_ID: 'BOOMCHECK',\n  PAYMENT_UNITS: 'USD',\n  STATUS_URL: 'https://boomcheck.io/handlers/paymentHandler.php?for=k',\n  PAYMENT_URL: 'https://boomcheck.io/handlers/paymentHandler.php?for=k',\n  PAYMENT_URL_METHOD: 'POST',\n  NOPAYMENT_URL: 'http://0.0.0.0:8000/payment',\n  NOPAYMENT_URL_METHOD: 'GET',\n  SUGGESTED_MEMO: '',\n  BAGGAGE_FIELDS: '',\n};\n\nexport default function Payment() {\n  const { formData, onInputChange } = useFormData();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const params = { ...PAYMENT_OPTIONS, ...formData };\n    const urlParams = new URLSearchParams(Object.entries(params));\n    const fullUrl = `${TARGET_URL}?${urlParams.toString()}`;\n\n    // const res = await toExternalPayment(fullUrl);\n    // window.location.replace(fullUrl);\n    window.location = TARGET_URL;\n    const form = React.createElement('form', { action: TARGET_URL, method: 'POST', body: params });\n    form.submit();\n  };\n\n  return (\n    <Container maxWidth=\"xs\" sx={{ mt: 8 }}>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <Box\n            sx={{\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n            }}\n          >\n            <Box component=\"form\" onSubmit={handleSubmit}>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <TextField\n                    id=\"input-amount\"\n                    name=\"PAYMENT_AMOUNT\"\n                    type=\"number\"\n                    label=\"Số tiền cần nạp\"\n                    required\n                    fullWidth\n                    onChange={onInputChange}\n                  />\n                </Grid>\n              </Grid>\n              <Button type=\"submit\" variant=\"contained\" sx={{ my: 3 }} fullWidth>\n                Thực hiện\n              </Button>\n            </Box>\n          </Box>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,GAAG,MAAM,mBAAmB;AACnC,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,MAAM,MAAM,sBAAsB;AACzC;AACA,SAASC,WAAW,QAAQ,yBAAyB;AACrD;;AAEA,IAAMC,UAAU,GAAG,wCAAwC;AAC3D,IAAMC,eAAe,GAAG;EACtBC,aAAa,EAAE,WAAW;EAC1BC,YAAY,EAAE,cAAc;EAC5BC,UAAU,EAAE,WAAW;EACvBC,aAAa,EAAE,KAAK;EACpBC,UAAU,EAAE,wDAAwD;EACpEC,WAAW,EAAE,wDAAwD;EACrEC,kBAAkB,EAAE,MAAM;EAC1BC,aAAa,EAAE,6BAA6B;EAC5CC,oBAAoB,EAAE,KAAK;EAC3BC,cAAc,EAAE,EAAE;EAClBC,cAAc,EAAE;AAClB,CAAC;AAED,eAAe,SAASC,OAAO,GAAG;EAAA,mBACId,WAAW,EAAE;IAAzCe,QAAQ,gBAARA,QAAQ;IAAEC,aAAa,gBAAbA,aAAa;EAE/B,IAAMC,YAAY;IAAA,oEAAG,iBAAOC,CAAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAC3BA,CAAC,CAACC,cAAc,EAAE;cAEZC,MAAM,qBAAQlB,eAAe,EAAKa,QAAQ;cAC1CM,SAAS,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,OAAO,CAACJ,MAAM,CAAC,CAAC;cACvDK,OAAO,aAAMxB,UAAU,cAAIoB,SAAS,CAACK,QAAQ,EAAE,GAErD;cACA;cACAC,MAAM,CAACC,QAAQ,GAAG3B,UAAU;cACtB4B,IAAI,GAAGnC,KAAK,CAACoC,aAAa,CAAC,MAAM,EAAE;gBAAEC,MAAM,EAAE9B,UAAU;gBAAE+B,MAAM,EAAE,MAAM;gBAAEC,IAAI,EAAEb;cAAO,CAAC,CAAC;cAC9FS,IAAI,CAACK,MAAM,EAAE;YAAC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CACf;IAAA,gBAZKjB,YAAY;MAAA;IAAA;EAAA,GAYjB;EAED,OACE,oBAAC,SAAS;IAAC,QAAQ,EAAC,IAAI;IAAC,EAAE,EAAE;MAAEkB,EAAE,EAAE;IAAE,CAAE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GACrC,oBAAC,IAAI;IAAC,SAAS;IAAC,OAAO,EAAE,CAAE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GACzB,oBAAC,IAAI;IAAC,IAAI;IAAC,EAAE,EAAE,EAAG;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GAChB,oBAAC,GAAG;IACF,EAAE,EAAE;MACFC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,UAAU,EAAE;IACd,CAAE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GAEF,oBAAC,GAAG;IAAC,SAAS,EAAC,MAAM;IAAC,QAAQ,EAAErB,YAAa;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GAC3C,oBAAC,IAAI;IAAC,SAAS;IAAC,OAAO,EAAE,CAAE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GACzB,oBAAC,IAAI;IAAC,IAAI;IAAC,EAAE,EAAE,EAAG;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GAChB,oBAAC,SAAS;IACR,EAAE,EAAC,cAAc;IACjB,IAAI,EAAC,gBAAgB;IACrB,IAAI,EAAC,QAAQ;IACb,KAAK,EAAC,qCAAiB;IACvB,QAAQ;IACR,SAAS;IACT,QAAQ,EAAED,aAAc;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EACxB,CACG,CACF,EACP,oBAAC,MAAM;IAAC,IAAI,EAAC,QAAQ;IAAC,OAAO,EAAC,WAAW;IAAC,EAAE,EAAE;MAAEuB,EAAE,EAAE;IAAE,CAAE;IAAC,SAAS;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,yBAEzD,CACL,CACF,CACD,CACF,CACG;AAEhB"},"metadata":{},"sourceType":"module"}