{"ast":null,"code":"import _regeneratorRuntime from \"/Users/NghiaKhang/Coding/Projects/boom_mail/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/NghiaKhang/Coding/Projects/boom_mail/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/NghiaKhang/Coding/Projects/boom_mail/src/pages/Home/index.jsx\";\nimport React from 'react';\nimport Container from '@mui/material/Container';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport { useFormData } from '../../hooks/useFormData';\nimport { addMailsApi } from '../../api';\nimport { localCache } from '../../utils/localStorage';\nimport { useAlert } from '../../contexts/alert';\nexport default function Home() {\n  var _useFormData = useFormData(),\n    formData = _useFormData.formData,\n    onInputChange = _useFormData.onInputChange;\n  var _useAlert = useAlert(),\n    showError = _useAlert.showError;\n  var transformEmails = function transformEmails(emails) {\n    return emails.trim().replace(/[ ]+/g, '').split(/\\n/);\n  };\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var token, number, emails;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.prev = 1;\n              token = localCache.getUserToken();\n              number = formData.number, emails = formData.emails;\n              _context.next = 6;\n              return addMailsApi({\n                token: token,\n                n_spam: number\n              }, transformEmails(emails));\n            case 6:\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              showError(_context.t0?.response?.data?.message || _context.t0?.message);\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return React.createElement(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Box, {\n    component: \"form\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"input-emails\",\n    label: \"Danh s\\xE1ch email\",\n    multiline: true,\n    minRows: 8,\n    maxRows: 8,\n    required: true,\n    fullWidth: true,\n    name: \"emails\",\n    onChange: onInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"input-password\",\n    label: \"S\\u1ED1 l\\u01B0\\u1EE3t\",\n    required: true,\n    fullWidth: true,\n    name: \"number\",\n    onChange: onInputChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }))), React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    sx: {\n      my: 3\n    },\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"B\\u1EAFt \\u0111\\u1EA7u\")))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"logs\",\n    label: \"K\\u1EBFt qu\\u1EA3\",\n    multiline: true,\n    minRows: 8,\n    maxRows: 8,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"names":["React","Container","Grid","Box","TextField","Button","useFormData","addMailsApi","localCache","useAlert","Home","formData","onInputChange","showError","transformEmails","emails","trim","replace","split","handleSubmit","e","preventDefault","token","getUserToken","number","n_spam","response","data","message","mt","display","flexDirection","alignItems","my"],"sources":["/Users/NghiaKhang/Coding/Projects/boom_mail/src/pages/Home/index.jsx"],"sourcesContent":["import React from 'react';\nimport Container from '@mui/material/Container';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport { useFormData } from '../../hooks/useFormData';\nimport { addMailsApi } from '../../api';\nimport { localCache } from '../../utils/localStorage';\nimport { useAlert } from '../../contexts/alert';\n\nexport default function Home() {\n  const { formData, onInputChange } = useFormData();\n  const { showError } = useAlert();\n\n  const transformEmails = (emails) => {\n    return emails.trim().replace(/[ ]+/g, '').split(/\\n/);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const token = localCache.getUserToken();\n      const { number, emails } = formData;\n      await addMailsApi({ token, n_spam: number }, transformEmails(emails));\n    } catch (error) {\n      showError(error?.response?.data?.message || error?.message);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ mt: 8 }}>\n      <Grid container spacing={2}>\n        <Grid item xs={6}>\n          <Box\n            sx={{\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n            }}\n          >\n            <Box component=\"form\" onSubmit={handleSubmit}>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <TextField\n                    id=\"input-emails\"\n                    label=\"Danh sách email\"\n                    multiline\n                    minRows={8}\n                    maxRows={8}\n                    required\n                    fullWidth\n                    name=\"emails\"\n                    onChange={onInputChange}\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    id=\"input-password\"\n                    label=\"Số lượt\"\n                    required\n                    fullWidth\n                    name=\"number\"\n                    onChange={onInputChange}\n                  />\n                </Grid>\n              </Grid>\n              <Button type=\"submit\" variant=\"contained\" sx={{ my: 3 }} fullWidth>\n                Bắt đầu\n              </Button>\n            </Box>\n          </Box>\n        </Grid>\n        <Grid item xs={6}>\n          <TextField id=\"logs\" label=\"Kết quả\" multiline minRows={8} maxRows={8} fullWidth />\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,GAAG,MAAM,mBAAmB;AACnC,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,WAAW,QAAQ,yBAAyB;AACrD,SAASC,WAAW,QAAQ,WAAW;AACvC,SAASC,UAAU,QAAQ,0BAA0B;AACrD,SAASC,QAAQ,QAAQ,sBAAsB;AAE/C,eAAe,SAASC,IAAI,GAAG;EAAA,mBACOJ,WAAW,EAAE;IAAzCK,QAAQ,gBAARA,QAAQ;IAAEC,aAAa,gBAAbA,aAAa;EAAA,gBACTH,QAAQ,EAAE;IAAxBI,SAAS,aAATA,SAAS;EAEjB,IAAMC,eAAe,GAAG,SAAlBA,eAAe,CAAIC,MAAM,EAAK;IAClC,OAAOA,MAAM,CAACC,IAAI,EAAE,CAACC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAACC,KAAK,CAAC,IAAI,CAAC;EACvD,CAAC;EAED,IAAMC,YAAY;IAAA,oEAAG,iBAAOC,CAAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAC3BA,CAAC,CAACC,cAAc,EAAE;cAAC;cAEXC,KAAK,GAAGd,UAAU,CAACe,YAAY,EAAE;cAC/BC,MAAM,GAAab,QAAQ,CAA3Ba,MAAM,EAAET,MAAM,GAAKJ,QAAQ,CAAnBI,MAAM;cAAA;cAAA,OAChBR,WAAW,CAAC;gBAAEe,KAAK,EAALA,KAAK;gBAAEG,MAAM,EAAED;cAAO,CAAC,EAAEV,eAAe,CAACC,MAAM,CAAC,CAAC;YAAA;cAAA;cAAA;YAAA;cAAA;cAAA;cAErEF,SAAS,CAAC,aAAOa,QAAQ,EAAEC,IAAI,EAAEC,OAAO,IAAI,aAAOA,OAAO,CAAC;YAAC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAE/D;IAAA,gBATKT,YAAY;MAAA;IAAA;EAAA,GASjB;EAED,OACE,oBAAC,SAAS;IAAC,QAAQ,EAAC,IAAI;IAAC,EAAE,EAAE;MAAEU,EAAE,EAAE;IAAE,CAAE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GACrC,oBAAC,IAAI;IAAC,SAAS;IAAC,OAAO,EAAE,CAAE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GACzB,oBAAC,IAAI;IAAC,IAAI;IAAC,EAAE,EAAE,CAAE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GACf,oBAAC,GAAG;IACF,EAAE,EAAE;MACFC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,UAAU,EAAE;IACd,CAAE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GAEF,oBAAC,GAAG;IAAC,SAAS,EAAC,MAAM;IAAC,QAAQ,EAAEb,YAAa;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GAC3C,oBAAC,IAAI;IAAC,SAAS;IAAC,OAAO,EAAE,CAAE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GACzB,oBAAC,IAAI;IAAC,IAAI;IAAC,EAAE,EAAE,EAAG;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GAChB,oBAAC,SAAS;IACR,EAAE,EAAC,cAAc;IACjB,KAAK,EAAC,oBAAiB;IACvB,SAAS;IACT,OAAO,EAAE,CAAE;IACX,OAAO,EAAE,CAAE;IACX,QAAQ;IACR,SAAS;IACT,IAAI,EAAC,QAAQ;IACb,QAAQ,EAAEP,aAAc;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EACxB,CACG,EACP,oBAAC,IAAI;IAAC,IAAI;IAAC,EAAE,EAAE,EAAG;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GAChB,oBAAC,SAAS;IACR,EAAE,EAAC,gBAAgB;IACnB,KAAK,EAAC,wBAAS;IACf,QAAQ;IACR,SAAS;IACT,IAAI,EAAC,QAAQ;IACb,QAAQ,EAAEA,aAAc;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EACxB,CACG,CACF,EACP,oBAAC,MAAM;IAAC,IAAI,EAAC,QAAQ;IAAC,OAAO,EAAC,WAAW;IAAC,EAAE,EAAE;MAAEqB,EAAE,EAAE;IAAE,CAAE;IAAC,SAAS;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,4BAEzD,CACL,CACF,CACD,EACP,oBAAC,IAAI;IAAC,IAAI;IAAC,EAAE,EAAE,CAAE;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,GACf,oBAAC,SAAS;IAAC,EAAE,EAAC,MAAM;IAAC,KAAK,EAAC,mBAAS;IAAC,SAAS;IAAC,OAAO,EAAE,CAAE;IAAC,OAAO,EAAE,CAAE;IAAC,SAAS;IAAA;MAAA;MAAA;IAAA;IAAA;EAAA,EAAG,CAC9E,CACF,CACG;AAEhB"},"metadata":{},"sourceType":"module"}